@{
    Layout = null;
}

<!--Operation-->
<div class="heading-buttons">


    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
        <h1 class="page-title txt-color-blueDark">
            <i class="fa fa-sitemap fa-fw "></i>
            部门管理
        </h1>
    </div>

    <div style="clear: both;">
    </div>
</div>
<!--/Operation-->



<div class="row">

    <div class="widget-body col-sm-4" style="margin-bottom: 5px; margin-top: 5px;">
        <div class="jarviswidget" style="min-height: 350px;">


            <header>
                <h2><strong>结点信息</strong> </h2>
                <div class="widget-toolbar">
                    <button type="button" class="btn btn-success  " id="btnSysRoleAdd"
                        data-bind="click: $root.AddNewNode">

                        <i class="glyphicon glyphicon-plus"></i>
                        新建部门
                    </button>
                    <button type="button" class="btn btn-danger " id="btnSysRoleDel"
                        data-bind="click: $root.DelNode">

                        <i class="glyphicon glyphicon-remove"></i>
                        删除部门
                    </button>
                </div>
            </header>
            <div class="widget-body row" style="min-height: 408px;">

                <!--Syspart tree-->
                <ul id="SyspartTree" class="ztree"></ul>

            </div>
        </div>
    </div>
    <!-- end col-sm-61 -->
    <!--/SysRole tree-->
    <!--SysRole  information-->
    <div class="col-sm-8" style="margin-bottom: 5px; margin-top: 5px;">
        <input type="hidden" id="hidId" />
        <div class="jarviswidget" style="min-height: 350px;">


            <header>
                <h2><strong>详细信息</strong> </h2>

            </header>
            <div class="widget-body row">
                <form class="smart-form " id="frmSyspart" data-bind="with: NodeValue" style="min-height: 350px;">

                    <fieldset style="padding-top: 0;">

                        <section>
                            <div class='form-group'>
                                <label>部门名称:</label>
                                <input type='text' id='txtbSPartName' name='txtbSPartName' placeholder='必填' class='form-control' data-bind='value:SPartName' />
                            </div>
                        </section>
                        <section>
                            <div class='form-group'>
                                <label>机构代码:</label>
                                <input type='text' id='txtbSKey' name='txtbSKey' placeholder='机构代码(唯一,必填)' class='form-control' data-bind='value:SKey' />
                            </div>
                        </section>
                        <section>
                            <div class='form-group'>
                                <label>部门描述:</label>
                                <input type='text' id='txtbSScript' name='txtbSScript' placeholder='' class='form-control' data-bind='value:SScript' />
                            </div>
                        </section>
                        <input type='hidden' id='txtbIParentId' name='txtbIParentId' class='form-control' data-bind='value:IParentId' />
                        <section>
                            <div class='form-group'>
                                <label>备注:</label>
                                <textarea id='txtbSMemo' name='txtbSMemo' placeholder='' class='form-control' data-bind='value:SMemo' rows="3">

                                </textarea>
                            </div>
                        </section>
                        <input type='hidden' id='txtbIOwer' name='txtbIOwer' class='form-control' data-bind='value:IOwer' />

                        <section>
                            <div class='form-group'>
                                <label>是否临时:</label>
                                <input type='text' id='txtbIIsTmp' name='txtbIIsTmp' placeholder='' class='form-control' data-bind='value:IIsTmp' />
                            </div>
                        </section>

                        <section>
                            <div class='form-group'>
                                <label>部门类型:</label>

                                <label class="select">
                                    <select class="input-sm" id='txtbIType' name='txtbIType' data-bind='value:IType'>
                                        <option value="1">一般</option>
                                        <option value="2">店铺</option>

                                    </select>
                                    <i></i>
                                </label>

                            </div>
                        </section>
                        <section>
                            <div class='form-group'>
                                <label>经度:</label><input type='text' id='txtbSLong' name='txtbSLong' placeholder='经度(数字)' class='form-control' data-bind='value:SLong' />
                            </div>
                        </section>
                        <section>
                            <div class='form-group'>
                                <label>纬度:</label><input type='text' id='txtbSLatitude' name='txtbSLatitude' placeholder='纬度(数字)' class='form-control' data-bind='value:SLatitude' />
                            </div>
                        </section>

                        <input type='hidden' id='txtbILevel' name='txtbILevel'  class='form-control' data-bind='value:ILevel' />



                    </fieldset>
                </form>

                <div class="widget-footer">

                    <button type="button" id="btnSyspartUpdate" class="btn btn-sm btn-primary" data-bind="click: $root.updateNode">

                        <i class="fa fa-save"></i>
                        保存
                    </button>

                </div>
            </div>



        </div>
    </div>
</div>
<!-- end row -->
<!--/Syspart information-->
<!--Syspart tree-->
<script>
    pageSetUp();
    var pagefunction = function () {


        loadScript(genRndURL("/PageJs/SysUser/Parts.js"), function () {
            SysPartRunPage();

        });


    };
    pagefunction();
</script>

